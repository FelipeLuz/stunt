@page "/upload"

@code {
    private string message = "";

    private void HandleFileUpload(InputFileChangeEventArgs e, string fileType)
    {
        var file = e.File;
        if (file != null)
        {
            // Check the file type and size constraints based on the fileType
            // For now, let's just display the file name. In reality, you'll want to save or process this file.
            message += $"Uploaded {fileType}: {file.Name}\n";
        }
    }

    private void FinalizeUpload()
    {
        message = "Seus documentos serão enviados para análise. Você receberá o parecer por email.";
    }
}

<h3>Upload de Documentos</h3>

<div class="form-group">
    <label for="rgUpload">RG (PNG/JPEG até 10 MB):</label>
    <InputFile id="rgUpload" OnChange="@((e) => HandleFileUpload(e, "RG"))" />
</div>

<div class="form-group">
    <label for="residenceProofUpload">Comprovante de Residência (documento PDF ou PNG/JPEG):</label>
    <InputFile id="residenceProofUpload" OnChange="@((e) => HandleFileUpload(e, "Comprovante de Residência"))" />
</div>

<div class="form-group">
    <label for="enrollmentCertificateUpload">Atestado de Matrícula (documento PDF ou PNG/JPEG):</label>
    <InputFile id="enrollmentCertificateUpload" OnChange="@((e) => HandleFileUpload(e, "Atestado de Matrícula"))" />
</div>

<div class="form-group">
    <label for="attendanceCertificateUpload">Atestado de Frequência (documento PDF ou PNG/JPEG):</label>
    <InputFile id="attendanceCertificateUpload" OnChange="@((e) => HandleFileUpload(e, "Atestado de Frequência"))" />
</div>

<button @onclick="FinalizeUpload" class="btn btn-primary">Finalizar</button>

<p class="mt-3">@message</p>
